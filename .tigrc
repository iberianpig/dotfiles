# main-viewの左端にコミットIDを表示する
set main-view = id date author commit-title:graph=yes,refs=yes

# # Visualization
set id-width = 8
set blame-options = -C -C -C
set horizontal-scroll = 33%
set show-notes = yes
set show-changes = yes
set split-view-height = 80%
set status-untracked-dirs = yes
set tab-size = 2
set diff-context = 3
set diff-options = -m --first-parent
set ignore-space = all
set commit-order = topo
set ignore-case = yes
set focus-child = yes
set grep-view = file-name:yes line-number:yes,interval=1 text
set wrap-lines = yes

# Bind Settings
bind generic <C-f> move-page-down
bind generic <C-b> move-page-up
bind generic g move-first-line
bind main    G  none
bind main    G  move-last-line
bind generic G  move-last-line

# revertを定義
bind main v !?git revert %(commit)
bind diff v !?git revert %(commit)
bind main V !?git revert %(prompt) %(commit)
bind diff V !?git revert %(prompt) %(commit)

bind generic F none
bind generic F !git fe # git fetch

bind branch c !git co %(branch)
bind branch C !git co -b %(prompt) %(branch)
bind branch P !git push origin %(branch)
bind branch L !git pull origin %(branch)
bind branch H !git-browse-remote %(branch)
bind branch f !git fe

bind generic M none
bind branch M none
bind branch M !git merge %(branch)

# 差分表示してコミットメッセージ編集
bind status c !?git commit -v
# hookのキャンセルオプション付きコミット
bind status C !?git commit -vn
# amendオプション
bind status a !?git commit -v  --amend
# hookキャンセル+amendオプション
bind status A !?git commit -vn --amend

# `-` でステージ・アンステージをスイッチ
bind status u none
bind status - status-update
bind stage u none
bind stage - status-update

bind status d !sh -c "git difftool -y \"$(git rev-parse --show-toplevel)/%(file)\""
